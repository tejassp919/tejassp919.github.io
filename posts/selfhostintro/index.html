<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Self-hosting applications using k3s over an Orange Pi cluster | Tejas Patil</title>
<meta name="keywords" content="setup, hardware, requirements, intro">
<meta name="description" content="This hobby project aims to build a small-scale, highly available, scalable server to host our applications and store our data durably using replication. To achieve the same, we would develop our server using 3 Orange Pi 5 boards and have k3s (a lighter version of Kubernetes) run over it. We would be using Longhorn to have data replication. The sample application we would be hosting is Seafile, an open-source file sync and share software.">
<meta name="author" content="Tejas">
<link rel="canonical" href="https://tejassp919.github.io/posts/selfhostintro/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.1b6cc72d0243334fe3a2c5cebc1c09ef74cff8b8facd3384d08d2a49d48c598a.css" integrity="sha256-G2zHLQJDM0/josXOvBwJ73TP&#43;Lj6zTOE0I0qSdSMWYo=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://tejassp919.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://tejassp919.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://tejassp919.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://tejassp919.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://tejassp919.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><meta property="og:title" content="Self-hosting applications using k3s over an Orange Pi cluster" />
<meta property="og:description" content="This hobby project aims to build a small-scale, highly available, scalable server to host our applications and store our data durably using replication. To achieve the same, we would develop our server using 3 Orange Pi 5 boards and have k3s (a lighter version of Kubernetes) run over it. We would be using Longhorn to have data replication. The sample application we would be hosting is Seafile, an open-source file sync and share software." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://tejassp919.github.io/posts/selfhostintro/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-18T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-11-18T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Self-hosting applications using k3s over an Orange Pi cluster"/>
<meta name="twitter:description" content="This hobby project aims to build a small-scale, highly available, scalable server to host our applications and store our data durably using replication. To achieve the same, we would develop our server using 3 Orange Pi 5 boards and have k3s (a lighter version of Kubernetes) run over it. We would be using Longhorn to have data replication. The sample application we would be hosting is Seafile, an open-source file sync and share software."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://tejassp919.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Self-hosting applications using k3s over an Orange Pi cluster",
      "item": "https://tejassp919.github.io/posts/selfhostintro/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Self-hosting applications using k3s over an Orange Pi cluster",
  "name": "Self-hosting applications using k3s over an Orange Pi cluster",
  "description": "This hobby project aims to build a small-scale, highly available, scalable server to host our applications and store our data durably using replication. To achieve the same, we would develop our server using 3 Orange Pi 5 boards and have k3s (a lighter version of Kubernetes) run over it. We would be using Longhorn to have data replication. The sample application we would be hosting is Seafile, an open-source file sync and share software.",
  "keywords": [
    "setup", "hardware", "requirements", "intro"
  ],
  "articleBody": " This hobby project aims to build a small-scale, highly available, scalable server to host our applications and store our data durably using replication. To achieve the same, we would develop our server using 3 Orange Pi 5 boards and have k3s (a lighter version of Kubernetes) run over it. We would be using Longhorn to have data replication. The sample application we would be hosting is Seafile, an open-source file sync and share software.\nThe hardware we will be needing for this will be as follows:\nThree or more Orange Pi 5 boards. You can use any other computer that can host a Linux server, but setup may vary based on CPU type (ARM vs x86) and hardware capabilities. An M2 SSD for each board. It’s known that micro-SSDs have high wear and tear; hence, M2 SSDs are preferable. Orange Pi boards need an M2 2242 NVMe SSD, but with an extra stand, we can use full-size SSDs too, as I have done. Switch A router with internet access to which the switch will connect to. Ethernet cables (optional) M2 screws and bolts for attaching SSDs to a case or stand (Optional) Thermal pads for the processors (Optional) A stand to hold everything in place. You can get this 3D-printed from the STL files shared over my drive folder. (Optional) A fan to cool everything. Amazon link (Optional) If you intend to 3D print the shared stand, you would need three 100 mm rods to hold the boards on the stand. Amazon link Once we have everything needed, let’s start setting up a server with the help of the next blogs in this series.\n",
  "wordCount" : "274",
  "inLanguage": "en",
  "datePublished": "2023-11-18T00:00:00Z",
  "dateModified": "2023-11-18T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Tejas"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://tejassp919.github.io/posts/selfhostintro/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Tejas Patil",
    "logo": {
      "@type": "ImageObject",
      "url": "https://tejassp919.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://tejassp919.github.io/" accesskey="h" title="Tejas Patil (Alt + H)">Tejas Patil</a>
            <div class="logo-switches">
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://tejassp919.github.io/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://tejassp919.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://tejassp919.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Self-hosting applications using k3s over an Orange Pi cluster
    </h1>
    <div class="post-meta"><span title='2023-11-18 00:00:00 +0000 UTC'>November 18, 2023</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Tejas

</div>
  </header> 
  <div class="post-content"><h1 id="heading"><a hidden class="anchor" aria-hidden="true" href="#heading">#</a></h1>
<p>This hobby project aims to build a small-scale, highly available, scalable server to host our applications and store our data durably using replication. To achieve the same, we would develop our server using 3 <a href="http://www.orangepi.org/html/hardWare/computerAndMicrocontrollers/details/Orange-Pi-5.html">Orange Pi 5</a> boards and have <a href="https://k3s.io/">k3s</a> (a lighter version of Kubernetes) run over it. We would be using <a href="https://longhorn.io/">Longhorn</a> to have data replication. The sample application we would be hosting is <a href="https://www.seafile.com/">Seafile</a>, an open-source file sync and share software.</p>
<p>The hardware we will be needing for this will be as follows:</p>
<ol>
<li>Three or more Orange Pi 5 boards. You can use any other computer that can host a Linux server, but setup may vary based on CPU type (ARM vs x86) and hardware capabilities.</li>
<li>An M2 SSD for each board. It’s known that micro-SSDs have high wear and tear; hence, M2 SSDs are preferable. Orange Pi boards need an M2 2242 NVMe SSD, but with an extra stand, we can use full-size SSDs too, as I have done.</li>
<li>Switch</li>
<li>A router with internet access to which the switch will connect to.</li>
<li>Ethernet cables</li>
<li>(optional) M2 screws and bolts for attaching SSDs to a case or stand</li>
<li>(Optional) Thermal pads for the processors</li>
<li>(Optional) A stand to hold everything in place. You can get this 3D-printed from the STL files shared over my drive folder.</li>
<li>(Optional) A fan to cool everything. <a href="https://a.co/d/goxG4lU">Amazon link</a></li>
<li>(Optional) If you intend to 3D print the shared stand, you would need three 100 mm rods to hold the boards on the stand. <a href="https://a.co/d/0HeK35E">Amazon link</a></li>
</ol>
<p>Once we have everything needed, let’s start setting up a server with the help of the next blogs in this series.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://tejassp919.github.io/tags/setup/">setup</a></li>
      <li><a href="https://tejassp919.github.io/tags/hardware/">hardware</a></li>
      <li><a href="https://tejassp919.github.io/tags/requirements/">requirements</a></li>
      <li><a href="https://tejassp919.github.io/tags/intro/">intro</a></li>
    </ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://tejassp919.github.io/">Tejas Patil</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
